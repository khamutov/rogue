(this.webpackJsonprogue=this.webpackJsonprogue||[]).push([[0],{65:function(n,e,t){},66:function(n,e,t){},68:function(n,e,t){},96:function(n,e,t){"use strict";t.r(e);var r=t(0),i=t(1),a=t.n(i),l=t(19),s=t.n(l),o=(t(65),t(66),t(14)),u=t(20),d=t.n(u),c=t(100),p=t(99),_=t(8),T=(t(68),d.a.Component);function f(n,e,t){var r=2*e+1;if(r<t.length){var i={};i.name=t[r],"null"!==i.name&&f(i,r,t),n.children||(n.children=[]),n.children.push(i)}var a=2*e+2;if(a<t.length){var l={};l.name=t[a],"null"!==l.name&&f(l,a,t),n.children||(n.children=[]),n.children.push(l)}}function h(n){var e=n.split(","),t={};return 0===e.length||(t.name=e[0],t.children=[],console.log(t),f(t,0,e)),t}function g(){var n=Object(i.useState)(""),e=Object(o.a)(n,2),t=e[0],a=e[1],l=Object(i.useState)("1,2,3,4,5,null,7,8,9,0,11,12,13,14,15"),s=Object(o.a)(l,2),u=s[0],d=s[1];return Object(i.useEffect)((function(){var n=h(u);a(function(n){console.log("runned!");var e=20,t=120,r=840-t,i=500-e-20,a=_.b(n),l=_.a();l.size([400,200]),l(a);var s=document.createElement("div"),o=_.c(s).append("svg").attr("width",r).attr("height",i).append("g").attr("font-family","sans-serif").attr("font-size",10).attr("transform","translate("+t+","+e+")"),u=o.append("g").attr("class","links"),d=o.append("g").attr("class","nodes").selectAll("circle.node").data(a.descendants()).enter().append("g").attr("class",(function(n){return"null"===n.data.name?"node-invisible":"node"})).attr("visibility",(function(n){return"null"===n.data.name?"hidden":"visible"}));return d.append("circle").attr("cx",(function(n){return n.x})).attr("cy",(function(n){return n.y})).attr("r",10),d.append("text").attr("dx",(function(n){return n.x-3})).attr("dy",(function(n){return n.y+3})).text((function(n){return console.log(n),n.data.name})),u.selectAll("line.link").data(a.links()).enter().append("line").classed("link",!0).attr("x1",(function(n){return n.source.x})).attr("y1",(function(n){return n.source.y})).attr("x2",(function(n){return n.target.x})).attr("y2",(function(n){return n.target.y})).attr("visibility",(function(n){return"null"===n.target.data.name?"hidden":"visible"})),s}(n))}),[u]),Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"Tree parser and visualizer"}),Object(r.jsx)("textarea",{cols:"60",value:u,placeholder:"Heap tree repr",onChange:function(n){d(n.target.value)}}),Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{children:"Current tree"}),Object(r.jsx)("p",{children:u})]}),Object(r.jsx)("div",{children:Object(r.jsx)(T,{data:t})}),Object(r.jsx)("h2",{children:"Code snippets"}),Object(r.jsxs)("div",{className:"codeblock",children:[Object(r.jsx)("h3",{children:"Tree definition"}),Object(r.jsx)(c.a,{language:"cpp",style:p.a,children:"\ntemplate <typename T>\nstruct BSTNode {\n  T data;\n  unique_ptr<BSTNode<T>> left, right;\n};\n"}),Object(r.jsx)("h3",{children:"Parse string to tree"}),Object(r.jsx)(c.a,{language:"cpp",style:p.a,children:'\ntemplate <typename T>\nvoid build_node(size_t idx, BSTNode<T> *node, vector<optional<T>> arr) {\n  size_t left_idx = 2 * idx + 1;\n  if (left_idx < arr.size()) {\n    if (arr[left_idx]) {\n      node->left = unique_ptr<BSTNode<T>>(new BSTNode<T> {\n          arr[left_idx].value(),\n          nullptr,\n          nullptr\n        });\n      build_node(left_idx, node->left.get(), arr);\n    }\n  }\n  size_t right_idx = 2 * idx + 2;\n  if (right_idx < arr.size()) {\n    if (arr[right_idx]) {\n      node->right = unique_ptr<BSTNode<T>>(new BSTNode<T>{\n          arr[right_idx].value(),\n          nullptr,\n          nullptr});\n      build_node(right_idx, node->right.get(), arr);\n    }\n  }\n}\n\ntemplate <typename T>\nunique_ptr<BSTNode<T>> parse_array(vector<optional<T>> arr) {\n  unique_ptr<BSTNode<T>> tree = unique_ptr<BSTNode<T>>(new BSTNode<T> {\n      arr.front().value(),\n      nullptr,\n      nullptr\n    });\n  build_node(0, tree.get(), arr);\n\n  return tree;\n}\n\nunique_ptr<BSTNode<int>> from_str(string str) {\n  stringstream ss(str);\n  string item;\n\n  vector<optional<int>> arr;\n\n  while(getline(ss, item, \',\')) {\n    if (item == "null") {\n      arr.push_back(nullopt);\n    } else {\n      arr.push_back(stoi(item));\n    }\n  }\n\n  return parse_array(arr);\n}\n\nunique_ptr<BSTNode<int>> tree = from_str("1,2,7,null,3,6,8");\n'}),Object(r.jsx)("h3",{children:"Tree to string"}),Object(r.jsx)(c.a,{language:"cpp",style:p.a,children:'\ntemplate <typename T>\nvoid to_str_store_tree(vector<optional<T>> &array_repr, unique_ptr<BSTNode<T>> &tree, size_t idx) {\n  if (tree == nullptr) {\n    return;\n  }\n\n  if (idx >= array_repr.size()) {\n    array_repr.resize(idx*2 + 1, nullopt);\n  }\n  array_repr[idx] = tree->data;\n\n  to_str_store_tree(array_repr, tree->left, 2*idx + 1);\n  to_str_store_tree(array_repr, tree->right, 2*idx + 2);\n}\n\ntemplate <typename T>\nstring to_str(unique_ptr<BSTNode<T>> &tree) {\n  vector<optional<T>> array_repr;\n\n  to_str_store_tree(array_repr, tree, 0);\n\n  // remove trailing nulls\n  auto rit = array_repr.rbegin();\n  while(!*rit) {\n    rit++;\n  }\n  array_repr.erase(rit.base(), array_repr.end());\n\n  stringstream ss;\n  ss << array_repr.front().value();\n  for (auto it = array_repr.cbegin() + 1; it != array_repr.cend(); it++) {\n    ss << ",";\n    if (*it) {\n      ss << (*it).value();\n    } else {\n      ss << "null";\n    }\n  }\n\n  return ss.str();\n}\n\nTEST(TreeToString, Test1) {\n  unique_ptr<BSTNode<int>> node1(new BSTNode<int>{\n      1,\n      unique_ptr<BSTNode<int>>(new BSTNode<int>{\n          2, nullptr,\n          unique_ptr<BSTNode<int>>(new BSTNode<int>{3, nullptr, nullptr})}),\n      unique_ptr<BSTNode<int>>(new BSTNode<int>{\n          7, unique_ptr<BSTNode<int>>(new BSTNode<int>{6, nullptr, nullptr}),\n          unique_ptr<BSTNode<int>>(new BSTNode<int>{8, nullptr, nullptr})})});\n\n  EXPECT_EQ(to_str(node1), "1,2,7,null,3,6,8");\n}\n'})]})]})}var x=function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(g,{})})},j=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,101)).then((function(e){var t=e.getCLS,r=e.getFID,i=e.getFCP,a=e.getLCP,l=e.getTTFB;t(n),r(n),i(n),a(n),l(n)}))};s.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(x,{})}),document.getElementById("root")),j()}},[[96,1,2]]]);
//# sourceMappingURL=main.2999d8f8.chunk.js.map